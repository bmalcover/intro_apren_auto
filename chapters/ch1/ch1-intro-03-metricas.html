

<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Medidas de rendimiento &#8212; Introducción al Aprendizaje Automático</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.11.2/css/all.min.css" integrity="sha384-KA6wR/X5RY4zFAHpv/CnoG2UW1uogYfdnP67Uv7eULvTveboZJg0qUpmJZb5VqzN" crossorigin="anonymous">
    <link href="../../_static/css/index.css" rel="stylesheet">
    <link rel="stylesheet" href="../../_static/sphinx-book-theme.css" type="text/css" />
    <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-dropdown.css" />
    <script id="documentation_options" data-url_root="../../" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/language_data.js"></script>
    <script src="../../_static/togglebutton.js"></script>
    <script src="../../_static/clipboard.min.js"></script>
    <script src="../../_static/copybutton.js"></script>
    <script src="../../_static/sphinx-book-theme.js"></script>
    <script >var togglebuttonSelector = '.toggle, .admonition.dropdown, .tag_hide_input div.cell_input, .tag_hide-input div.cell_input, .tag_hide_output div.cell_output, .tag_hide-output div.cell_output, .tag_hide_cell.cell, .tag_hide-cell.cell';</script>
    <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    <script type="text/x-mathjax-config">MathJax.Hub.Config({"tex2jax": {"inlineMath": [["\\(", "\\)"]], "displayMath": [["\\[", "\\]"]], "processRefs": false, "processEnvironments": false}})</script>
    <script async="async" src="https://unpkg.com/thebelab@latest/lib/index.js"></script>
    <script >
        const thebe_selector = ".thebe,.cell"
        const thebe_selector_input = "pre,.cell_input div.highlight"
        const thebe_selector_output = ".output,.cell_output"
    </script>
    <script async="async" src="../../_static/sphinx-thebe.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="Python para la programación de aprendizaje automático" href="../ch2/ch2-progr-apren-auto-01-python.html" />
    <link rel="prev" title="Terminología básica" href="ch1-intro-02-terminologia-basica.html" />

    <meta name="viewport" content="width=device-width, initial-scale=1">
    <meta name="docsearch:language" content="en">



  </head>
  <body data-spy="scroll" data-target="#bd-toc-nav" data-offset="80">
    

    <div class="container-xl">
      <div class="row">
          
<div class="col-12 col-md-3 bd-sidebar site-navigation show" id="site-navigation">
    
        <div class="navbar-brand-box">
<a class="navbar-brand text-wrap" href="../../index.html">
  
  <img src="../../_static/logo.png" class="logo" alt="logo">
  
  
  <h1 class="site-logo" id="site-title">Introducción al Aprendizaje Automático</h1>
  
</a>
</div>

<form class="bd-search d-flex align-items-center" action="../../search.html" method="get">
  <i class="icon fas fa-search"></i>
  <input type="search" class="form-control" name="q" id="search-input" placeholder="Search this book..." aria-label="Search this book..." autocomplete="off" >
</form>

<nav class="bd-links" id="bd-docs-nav" aria-label="Main navigation">
  <ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../intro.html">
   Prefacio
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Introducción
 </span>
</p>
<ul class="current nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="ch1-intro-01-introduccion.html">
   Introducción al Aprendizaje Automático
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="ch1-intro-02-terminologia-basica.html">
   Terminología básica
  </a>
 </li>
 <li class="toctree-l1 current active">
  <a class="current reference internal" href="#">
   Medidas de rendimiento
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Python para aprendizaje estadístico
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch2/ch2-progr-apren-auto-01-python.html">
   Python para la programación de aprendizaje automático
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modelos lineales
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch3/ch3-modelos-lineales-01-perceptron.html">
   Perceptron
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch3/ch3-modelos-lineales-02-reg-lineal.html">
   Regresión lineal
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch3/ch3-modelos-lineales-03-reg-logistica.html">
   Regresión logística
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Ingenieria y Selección de características
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch4/ch4-ing-sel-carac-01-seleccion-caracteristicas.html">
   Selección de características
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch4/ch4-ing-sel-carac-02-ingenieria-caracteristicas.html">
   Ingeniería de características
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Modelos Generativos
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch5/ch5-modelos-generativos-01-gaussianos.html">
   Modelos Gaussianos
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch5/ch5-modelos-generativos-02-naive-bayes.html">
   Naive Bayes
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Máquinas de vector soporte
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch6/ch6-svm-01-lineales.html">
   Máquinas de vector soporte lineales
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch6/ch6-svm-02-rbf.html">
   Máquinas de vector soporte: Radial basis function and kernel trick
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Arboles de decisión
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch7/ch7-dev-tree-01-arboles-decision.html">
   Arboles de decisión
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch7/ch7-dev-tree-02-bagging.html">
   Bagging: Random Forest
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch7/ch7-dev-tree-03-boosting.html">
   Boosting: Gradient boosting trees
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Aprendizaje no supervisado
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch8/ch8-apr-no-sup-01-clustering.html">
   Clustering
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Interpretación de Modelos
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch9/ch9-interp-model-01-lime.html">
   Lime
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch9/ch9-interp-model-02-shap.html">
   Valores SHAP
  </a>
 </li>
</ul>
<p class="caption">
 <span class="caption-text">
  Productivización
 </span>
</p>
<ul class="nav sidenav_l1">
 <li class="toctree-l1">
  <a class="reference internal" href="../ch10/ch10-product-01-batch.html">
   Batch processing
  </a>
 </li>
 <li class="toctree-l1">
  <a class="reference internal" href="../ch10/ch10-product-02-real-time.html">
   Real time inference
  </a>
 </li>
</ul>

</nav>

 <!-- To handle the deprecated key -->

</div>


          


          
<main class="col py-md-3 pl-md-4 bd-content overflow-auto" role="main">
    
    <div class="row topbar fixed-top container-xl">
    <div class="col-12 col-md-3 bd-topbar-whitespace site-navigation show">
    </div>
    <div class="col pl-2 topbar-main">
        
        <button id="navbar-toggler" class="navbar-toggler ml-0" type="button" data-toggle="collapse"
            data-toggle="tooltip" data-placement="bottom" data-target=".site-navigation" aria-controls="navbar-menu"
            aria-expanded="true" aria-label="Toggle navigation" aria-controls="site-navigation"
            title="Toggle navigation" data-toggle="tooltip" data-placement="left">
            <i class="fas fa-bars"></i>
            <i class="fas fa-arrow-left"></i>
            <i class="fas fa-arrow-up"></i>
        </button>
        
        <div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn" aria-label="Download this page"><i
            class="fas fa-download"></i></button>

    
    <div class="dropdown-buttons">
        <!-- ipynb file if we had a myst markdown file -->
        
        <!-- Download raw file -->
        <a class="dropdown-buttons" href="../../_sources/chapters/ch1/ch1-intro-03-metricas.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Download source file" data-toggle="tooltip"
                data-placement="left">.ipynb</button></a>
        <!-- Download PDF via print -->
        <button type="button" id="download-print" class="btn btn-secondary topbarbtn" title="Print to PDF"
            onClick="window.print()" data-toggle="tooltip" data-placement="left">.pdf</button>
    </div>
    
</div>
        <!-- Source interaction buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Connect with source repository"><i class="fab fa-github"></i></button>
    <div class="dropdown-buttons sourcebuttons">
        <a class="repository-button"
            href="https://github.com/juanhuguetgarcia/intro_apren_auto"><button type="button" class="btn btn-secondary topbarbtn"
                data-toggle="tooltip" data-placement="left" title="Source repository"><i
                    class="fab fa-github"></i>repository</button></a>
        <a class="issues-button"
            href="https://github.com/juanhuguetgarcia/intro_apren_auto/issues/new?title=Issue%20on%20page%20%2Fchapters/ch1/ch1-intro-03-metricas.html&body=Your%20issue%20content%20here."><button
                type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip" data-placement="left"
                title="Open an issue"><i class="fas fa-lightbulb"></i>open issue</button></a>
        
    </div>
</div>


        <!-- Full screen (wrap in <a> to have style consistency -->
        <a class="full-screen-button"><button type="button" class="btn btn-secondary topbarbtn" data-toggle="tooltip"
                data-placement="bottom" onclick="toggleFullScreen()" title="Fullscreen mode"><i
                    class="fas fa-expand"></i></button></a>

        <!-- Launch buttons -->

<div class="dropdown-buttons-trigger">
    <button id="dropdown-buttons-trigger" class="btn btn-secondary topbarbtn"
        aria-label="Launch interactive content"><i class="fas fa-rocket"></i></button>
    <div class="dropdown-buttons">
        
        <a class="binder-button" href="https://mybinder.org/v2/gh/juanhuguetgarcia/intro_apren_auto/master?urlpath=lab/tree/intro_apren_auto/chapters/ch1/ch1-intro-03-metricas.ipynb"><button type="button"
                class="btn btn-secondary topbarbtn" title="Launch Binder" data-toggle="tooltip"
                data-placement="left"><img class="binder-button-logo"
                    src="../../_static/images/logo_binder.svg"
                    alt="Interact on binder">Binder</button></a>
        
        
        
        <a class="colab-button" href="https://colab.research.google.com/github/juanhuguetgarcia/intro_apren_auto/blob/master/intro_apren_auto/chapters/ch1/ch1-intro-03-metricas.ipynb"><button type="button" class="btn btn-secondary topbarbtn"
                title="Launch Colab" data-toggle="tooltip" data-placement="left"><img class="colab-button-logo"
                    src="../../_static/images/logo_colab.png"
                    alt="Interact on Colab">Colab</button></a>
        
        <button type="button" class="btn btn-secondary topbarbtn"
            onclick="initThebeSBT()" title="Launch Thebe" data-toggle="tooltip" data-placement="left"><i
                class="fas fa-play"></i><span style="margin-left: .4em;">Live Code</span></button>
        
    </div>
</div>

    </div>

    <!-- Table of contents -->
    <div class="d-none d-md-block col-md-2 bd-toc show">
        <div class="tocsection onthispage pt-5 pb-3">
            <i class="fas fa-list"></i> Contents
        </div>
        <nav id="bd-toc-nav">
            <ul class="nav section-nav flex-column">
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#tipos-de-problemas-de-aprendizaje-automatico">
   Tipos de problemas de aprendizaje automático
  </a>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#medidas-de-rendimiento-de-problemas-de-regresion">
   Medidas de rendimiento de problemas de regresión
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errores-cuadraticos">
     Errores cuadráticos
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#errores-absolutos">
     Errores absolutos
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#a-considerar">
     A considerar…
    </a>
   </li>
  </ul>
 </li>
 <li class="toc-h2 nav-item toc-entry">
  <a class="reference internal nav-link" href="#medidas-de-rendimiento-para-problemas-de-clasificacion">
   Medidas de rendimiento para problemas de clasificación
  </a>
  <ul class="nav section-nav flex-column">
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#tipos-de-error-de-clasificacion">
     Tipos de error de clasificacion
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#matriz-de-confusion">
     Matriz de confusión
    </a>
   </li>
   <li class="toc-h3 nav-item toc-entry">
    <a class="reference internal nav-link" href="#metricas-segun-clase-predicha">
     Métricas según clase predicha
    </a>
   </li>
  </ul>
 </li>
</ul>

        </nav>
    </div>
</div>
    <div id="main-content" class="row">
        <div class="col-12 col-md-9 pl-md-3 pr-md-0">
        
              <div>
                
  <div class="section" id="medidas-de-rendimiento">
<h1>Medidas de rendimiento<a class="headerlink" href="#medidas-de-rendimiento" title="Permalink to this headline">¶</a></h1>
<div class="section" id="tipos-de-problemas-de-aprendizaje-automatico">
<h2>Tipos de problemas de aprendizaje automático<a class="headerlink" href="#tipos-de-problemas-de-aprendizaje-automatico" title="Permalink to this headline">¶</a></h2>
<p>Antes de poder definir las medidas de rendimiento de los modelos de Aprendizaje Automático realizaremos una división de los tipos de problemas que pueden resolver:</p>
<p><strong>Regresión</strong></p>
<p>En los problemas de regresión el objetivo es aproximar una función continua, es decir, el valor de salida deseada es un valor contínuo. Por ejemplo, si queremos predecir el precio de un producto.</p>
<p><strong>Clasificación</strong></p>
<p>En este caso, el valor de salida deseada es una etiqueta o clase. El ejemplo de predicción de género sería un problema de clasificación ya que la salida deseada sería “hombre” o “mujer”.</p>
<p>Dependiendo del tipo de problema, las medidas de rendimiento son diferentes.</p>
</div>
<div class="section" id="medidas-de-rendimiento-de-problemas-de-regresion">
<h2>Medidas de rendimiento de problemas de regresión<a class="headerlink" href="#medidas-de-rendimiento-de-problemas-de-regresion" title="Permalink to this headline">¶</a></h2>
<p>Las medidas de rendimiento de los problemas de regresión simplemente se basan la diferencia numérica entre el valor de predicción y el valor real. Las más comunes en los problemas de regresión son el <strong>error cuadrático</strong> y el <strong>error absoluto</strong>, y sus distintas modificaciones.</p>
<div class="section" id="errores-cuadraticos">
<h3>Errores cuadráticos<a class="headerlink" href="#errores-cuadraticos" title="Permalink to this headline">¶</a></h3>
<p>El <strong>error cuadrático (Squared Error)</strong> de un valor predicho con respecto al valor real, se calcula cómo:</p>
<div class="math notranslate nohighlight">
\[ SE = \sum_j\left[f(X_{j}) - y_j\right]^2\]</div>
<p><strong>Error cuadrático medio (Mean Squared Error)</strong> Da una idea del error de nuestras predicciones dando más peso a los errores grandes.</p>
<div class="math notranslate nohighlight">
\[ MSE = \frac{1}{m}\sum_j^m \left[f(X_{j \cdot}) - y_j\right]^2 \]</div>
<p><strong>Raiz del error cuadrático medio (Root Mean Square Error)</strong> La raíz cuadrada del MSE produce el error de la raíz cuadrada de la media o la desviación de la raíz cuadrada media (RMSE o RMSD). Tiene las mismas unidades que la cantidad que estima. Para un estimador sin sesgo (bies), el RMSE es la raíz cuadrada de la varianza, es decir la desviación estandar.</p>
<div class="math notranslate nohighlight">
\[ RMSE = \sqrt{\frac{1}{m}\sum_j^m \left[f(X_{j \cdot}) - y_j\right]^2} \]</div>
<p>A pesar de ser una de las métricas más utilizadas, tiene el inconveniente de ser sensible a los valores extremos (outliers). Cuando este comportamiento pueda suponer un problema, los <strong>errores absolutos</strong> pueden darnos una mejor medida de rendimiento.</p>
</div>
<div class="section" id="errores-absolutos">
<h3>Errores absolutos<a class="headerlink" href="#errores-absolutos" title="Permalink to this headline">¶</a></h3>
<p>El <strong>error absoluto</strong> (Absolute Error) se define cómo:</p>
<div class="math notranslate nohighlight">
\[ AE = \sum_j \left|f(X_{j \cdot}) - y_j\right| \]</div>
<p><strong>Error absoluto medio (Mean Absolute Error)</strong> Es más robusto a los valores extremos y su interpretabilidad es más alta que la del RMSE ya que también está en las unidades de la variable a predecir con la ventaja de que el dato no ha sufrido ninguna transformación.</p>
<div class="math notranslate nohighlight">
\[ MAE = \frac{1}{m} \sum_j^m \left|f(X_{j \cdot}) - y_j\right| \]</div>
<p><strong>Error absoluto medio porcentual (Mean Average Percentage Error)</strong>
A pesar de su simpleza, presenta varios inconvenientes a la hora de usarlo de forma práctica. Por ejemplo, no puede usarse cuando el valor de referencia es 0. Además, si se usa para elegir métodos predictivos seleccionará de forma sistemática un metodo que prediga valores bajos.
<a class="reference external" href="https://en.wikipedia.org/wiki/Mean_absolute_percentage_error">wiki</a></p>
<div class="math notranslate nohighlight">
\[ MAPE = \frac{1}{m} \sum_j^m \left|\frac{f(X_{j \cdot}) - y_j}{y_j}\right| \]</div>
</div>
<div class="section" id="a-considerar">
<h3>A considerar…<a class="headerlink" href="#a-considerar" title="Permalink to this headline">¶</a></h3>
<p>Cómo hemos comentado, las métricas expuestas anteriormente pueden considerarse como distancias entre el vector de valores reales y el predicho. De hecho, el RMSE corresponde a la <strong>distancia euclidiana</strong>, también conocida como norma <span class="math notranslate nohighlight">\(l_2\)</span> o <span class="math notranslate nohighlight">\(\lVert{v}\rVert_2\)</span>.
Por otro lado, el MAE corresponde a la norma <span class="math notranslate nohighlight">\(l_1\)</span> o <span class="math notranslate nohighlight">\(\lVert{v}\rVert_1\)</span>. A esta distancia se la conoce como <strong>distancia de manhattan</strong>, porque sólo se puede viajar de un bloque a otro de la ciudad a traves de calles ortogonales.</p>
<p>De forma general, una norma <span class="math notranslate nohighlight">\(l_k\)</span> o <span class="math notranslate nohighlight">\(\lVert{v}\rVert_k\)</span> se calcula:</p>
<div class="math notranslate nohighlight">
\[\lVert{v}\rVert_k = \left(|v_0|^k + ...+ |v_m|^k \right)^\frac{1}{k}\]</div>
</div>
</div>
<div class="section" id="medidas-de-rendimiento-para-problemas-de-clasificacion">
<h2>Medidas de rendimiento para problemas de clasificación<a class="headerlink" href="#medidas-de-rendimiento-para-problemas-de-clasificacion" title="Permalink to this headline">¶</a></h2>
<p>Cuando hablamos de problemas de clasificación, existe una gran variedad de métricas que nos permiten determinar cómo de bueno es nuestro clasificador.</p>
<div class="section" id="tipos-de-error-de-clasificacion">
<h3>Tipos de error de clasificacion<a class="headerlink" href="#tipos-de-error-de-clasificacion" title="Permalink to this headline">¶</a></h3>
<p>En el caso de los problemas de clasificación la medida de rendimiento es más compleja por que podemos tener 4 casos distintos.</p>
<p><strong>Verdadero Positivo (TP)</strong>: Un acierto, el valor de predicción es igual al valor real.</p>
<p><strong>Verdadero Negativo (TN)</strong>: Un acierto, el valor de predicción es igual al valor real, la diferencia entre los dos tipos de verdadero es la pregunta que queremos resolver. Por ejemplo, si queremos encontrar mujeres en nuestro problema de reconocimiento de género, un verdadero positivo sería que una mujer es reconocida como mujer, y un verdadero negativo, sería un hombre reconocido como hombre.</p>
<p><strong>Falso Positivo (FP)</strong>: Una “falsa alarma”, es decir, un error donde un valor de predicción no es el valor real. En el problema de género sería reconocer como mujer a un hombre.</p>
<p><strong>Falso Negativo (FN)</strong>: Un “error”, es decir, un error donde un valor real no es reconocido. En el problema de género sería no reconocer a una mujer (o reconocer una mujer como hombre).</p>
</div>
<div class="section" id="matriz-de-confusion">
<h3>Matriz de confusión<a class="headerlink" href="#matriz-de-confusion" title="Permalink to this headline">¶</a></h3>
<p>Antes de empezar, consideremos el caso básico de una clasificación binaria en el que intentamos predecir una clase. Imagina que hemos entrenado un modelo y realizado una serie de predicciones. Es fácil entonces crear una tabla que contenga la siguiente información.</p>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="text-align:center head"><p>Predicción: Perro</p></th>
<th class="text-align:center head"><p>Predicción: Gato</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Observación Perro</strong></p></td>
<td class="text-align:center"><p><span style='color:green'>25</span></p></td>
<td class="text-align:center"><p><span style='color:red'>3</span></p></td>
</tr>
<tr class="row-odd"><td><p><strong>Observación Gato</strong></p></td>
<td class="text-align:center"><p><span style='color:red'>9</span></p></td>
<td class="text-align:center"><p><span style='color:green'>19</span></p></td>
</tr>
</tbody>
</table>
<p>Esta tabla se conoce cómo matriz de confusión (en ingles, confusion matrix) y es facilmente extendible a problemas de clasificación de varias categorías.</p>
<p>Lo que nos dice esta matriz de forma simplificada es:</p>
<ol class="simple">
<li><p>En total tenemos 25+3+9+19 = 56 muestras sobre las que hemos realizado predicciones</p></li>
<li><p>De las 56, 25 + 9 = 34 pertenecen a la clase <em>perro</em> y 3+19 = 21 pertenecen a la clase <em>gato</em></p></li>
<li><p>De los 34 <em>perros</em>, hemos predicho bien la categoría en 25 casos y mal en 9.</p></li>
<li><p>De los 21 <em>gatos</em>, hemos predicho bien la categoría gato en 19 casos y mal en 3</p></li>
</ol>
<table class="colwidths-auto table">
<thead>
<tr class="row-odd"><th class="head"><p></p></th>
<th class="text-align:center head"><p>Prediction Positive</p></th>
<th class="text-align:center head"><p>Prediction Negative</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>Observation Positive</strong></p></td>
<td class="text-align:center"><p>True Positive</p></td>
<td class="text-align:center"><p>False Positive (Type I)</p></td>
</tr>
<tr class="row-odd"><td><p><strong>Observation Negative</strong></p></td>
<td class="text-align:center"><p>False Negative (Type II)</p></td>
<td class="text-align:center"><p>True Negative</p></td>
</tr>
</tbody>
</table>
<p>A partir de esta matriz, se construyen la mayoría de métricas asociadas con los problemas de clasificación.</p>
</div>
<div class="section" id="metricas-segun-clase-predicha">
<h3>Métricas según clase predicha<a class="headerlink" href="#metricas-segun-clase-predicha" title="Permalink to this headline">¶</a></h3>
<p><img alt="medidas-clasificacion" src="../../_images/ch1-metricas-clasificacion.png" /></p>
<p><strong>Accuracy</strong></p>
<p>De forma general, ¿cuantas veces predigo la clase correcta? La más común y muchas veces, la más susceptible a darnos un clasificador erroneo, sobre todo en sets de datos no balanceados.</p>
<div class="math notranslate nohighlight">
\[Accuracy = \frac{TP+TN}{total} = \frac{25+19}{56} \sim 0.786\]</div>
<p><strong>Error Rate</strong></p>
<p>De similar modo, ¿Cuántas veces me equivoco?</p>
<div class="math notranslate nohighlight">
\[ Error Rate = 1 - Accuracy = \frac{FP+FN}{total} = \frac{9+3}{56} \sim 0.214 \]</div>
<p><strong>Recall (sensitivity)</strong></p>
<p>Cuando es <em>perro</em>, ¿cuantas veces predecimos <em>perro</em>?</p>
<div class="math notranslate nohighlight">
\[ Recall = \frac{TP}{actual Trues} = \frac{TP}{TP + FN} = \frac{25}{25 + 9} \sim 0.735 \]</div>
<p><strong>Specificity</strong></p>
<p>Cuando es <em>gato</em>, ¿cuántas veces predecimos <em>gato</em>?</p>
<div class="math notranslate nohighlight">
\[ Specificity = \frac{TN}{actual Falses} = \frac{TN}{TN + FP} = \frac{21}{19 + 9} \sim 0.75 \]</div>
<p><strong>Precision</strong></p>
<p>Cuando predecimos <em>perro</em>, cuantas veces es correcto?</p>
<div class="math notranslate nohighlight">
\[ Precision = \frac{TP}{predicted Trues} = \frac{TP}{TP + FP} = \frac{25}{25 + 3} \sim 0.892 \]</div>
<p><strong>F1-score</strong></p>
<p>A menudo es conveniente <strong>combinar la precision y el recall en una sola métrica</strong> para comparar de forma sencilla dos clasificadores. En vez de calcular una media de la precisión y el recall, se calcula su <strong>media harmónica</strong>. De esta forma se da más peso a los valores bajos por lo que sólo se conseguirá un F1-score alto si ambas, Precision y Recall, son altas.</p>
<div class="math notranslate nohighlight">
\[F_1= \frac{1}{\frac{1}{precision} + \frac{1}{recall}} = 2 \times \frac{precision \times recall}{precision + recall} = \frac{TP}{TP + \frac{FN + FP}{2}} \]</div>
</div>
</div>
</div>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "juanhuguetgarcia/intro_apren_auto",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            kernelName: "python3",
            path: "./chapters/ch1"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

              </div>
              
        </div>
    </div>
    
    
    <div class='prev-next-bottom'>
        
    <a class='left-prev' id="prev-link" href="ch1-intro-02-terminologia-basica.html" title="previous page">Terminología básica</a>
    <a class='right-next' id="next-link" href="../ch2/ch2-progr-apren-auto-01-python.html" title="next page">Python para la programación de aprendizaje automático</a>

    </div>
    <footer class="footer mt-5 mt-md-0">
    <div class="container">
      <p>
        
          By J. Varona, G. Moyà, J. Huguet-Garcia<br/>
        
            &copy; Copyright 2020.<br/>
      </p>
    </div>
  </footer>
</main>


      </div>
    </div>

    <script src="../../_static/js/index.js"></script>
    
  </body>
</html>